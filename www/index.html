<div style="margin: 50px 50px 50px 50px">

  <button onclick="recordVideo()">REC</button>
  <button onclick="stopRecordVideo()">STOP</button>

  <div style="padding-top: 50px">
    <video  id="live-video" muted="muted" playsinline autoplay></video>
    <video controls playsinline webkit-playsinline id="streamVideo">
      <source id="source" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
<div>

<script src="cordova.js"></script>
<script type="text/javascript">

var liveVideo = document.getElementById('live-video');

function recordVideo() {
  var cam_choice = 'front';
  cordova.plugins.backgroundvideo.start('myvideo', cam_choice, function() {
    console.log('start success');
  }, function(err) {
    console.log('start error', err);
  });
};

function stopRecordVideo() {
  cordova.plugins.backgroundvideo.stop(function(data) {
    console.log('stop success', data);
    cordova.plugins.fileOpener2.open(data, 'video/mp4', {
      error: function error(err) {
        console.error('failed to open file', err);
      },
      success: function success() {
        console.log("success with opening the file");
      }
    });
  }, function(err) {
    console.log('stop error', err);
  });
}



</script>
