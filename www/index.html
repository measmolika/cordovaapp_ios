<!DOCTYPE html>
<html>
<head>
  <title>Cordovaapp ios</title>
</head>
<body>
<div style="margin: 50px 50px 50px 50px;">
  <button onclick="recordVideo()">REC</button>
  <button onclick="stopRecordVideo()">STOP</button>
  <button onclick="download()">Download</button>
</div>
<script src="cordova.js"></script>
<script type="text/javascript">
function recordVideo() {
  var cam_choice = 'front';
  cordova.plugins.backgroundvideo.start('myvideo', cam_choice, function() {
    console.log('start success');
  }, function(err) {
    console.log('start error', err);
  });
};
function stopRecordVideo() {
  cordova.plugins.backgroundvideo.stop(function(data) {
    console.log('stop success', data);
    cordova.plugins.fileOpener2.open(data, 'video/mp4', {
      error: function error(err) {
        console.error('failed to open file', err);
      },
      success: function success() {
        console.log("success with opening the file");
      }
    });
  }, function(err) {
    console.log('stop error', err);
  });
}
function download() {}
</script>
</body>
</html>
