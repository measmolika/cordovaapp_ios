<!DOCTYPE html>
<html>
<head>
  <title>Cordovaapp ios</title>
</head>
<body>
<div style="margin: 50px 50px 50px 50px;">
  <button onclick="recordVideo()">REC</button>
  <button onclick="stopRecordVideo()">STOP</button>
  <button onclick="download()">Download</button>
  <video controls playsinline webkit-playsinline id="streamVideo">
    <source id="source" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>
<script src="cordova.js"></script>
<script type="text/javascript">
function recordVideo() {
  var cam_choice = 'front';
  cordova.plugins.backgroundvideo.start('myvideo', cam_choice, function() {
    console.log('start success');
  }, function(err) {
    console.log('start error', err);
  });
};
function stopRecordVideo() {
  cordova.plugins.backgroundvideo.stop(function(data) {
    // var streamVideo = document.getElementById("streamVideo");

    var video = document.getElementById("streamVideo"),
    source = document.getElementById("source");

    source.src = "file://" + data;
    source.type = "video/mp4";
    // video.load();
    //video.play()
    // streamVideo.load();



    console.log(data);
  //   console.log('stop success', data);
  //   cordova.plugins.fileOpener2.open(data, 'video/mp4', {
  //     error: function error(err) {
  //       console.error('failed to open file', err);
  //     },
  //     success: function success() {
  //       console.log("success with opening the file");
  //     }
  //   });
  // }, function(err) {
  //   console.log('stop error', err);
   });

}
function download() {}
</script>
</body>
</html>
